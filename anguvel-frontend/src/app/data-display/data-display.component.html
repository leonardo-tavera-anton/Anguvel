<div class="data-display-container">
  <h2>Datos del backend</h2>

  <div class="controls">
    <label for="resource-select">Seleccione la fuente </label>
    <select id="resource-select" [(ngModel)]="selectedResource" (change)="fetchData()">
      <option *ngFor="let resource of resources" [value]="resource">{{ resource | titlecase }}</option>
    </select>
  </div>

  <div *ngIf="loading" class="message loading">Cargando datos</div>
  <div *ngIf="error" class="message error">{{ error }}</div>

  <div *ngIf="!loading && !error && data.length > 0" class="data-table-container">
    <h3>{{ selectedResource | titlecase }} Data</h3>
    <table border="1">
      <thead>
        <tr>
          <th *ngFor="let key of (data[0] | keyvalue)">{{ key.key?.toString() | titlecase }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of data">
          <td *ngFor="let key of (item | keyvalue)">{{ key.value }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="!loading && !error && data.length === 0">
    No data available for {{ selectedResource | titlecase }}.
  </div>
</div>